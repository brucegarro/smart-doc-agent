{
  "env": {
    "code_quality_paths": [
      "src",
      "agent"
    ],
    "complexity_average_threshold": 5.0,
    "complexity_function_threshold": 10.0,
    "embedder_model": "BAAI/bge-small-en-v1.5",
    "git_sha": "unknown",
    "ingest_time_per_page_budget_sec": 5.0,
    "maintainability_threshold": 65.0,
    "retrieval_k": 5,
    "text_llm_model": "qwen2.5:7b-instruct-q4_K_M",
    "vlm_model": "qwen2-vl:7b-instruct-q4_K_M"
  },
  "gates": {
    "all": false,
    "boot": true,
    "code_quality": false,
    "extraction": false,
    "ingestion": false,
    "math": false,
    "perf": false,
    "queries": false
  },
  "metrics": {
    "overall_score": 0.0,
    "runtime_seconds": 0.31888508796691895
  },
  "run_id": "20251017-202738-unknown",
  "scenarios": {
    "boot": {
      "artifacts": {
        "checks": [
          {
            "detail": "postgres ready",
            "latency_seconds": 0.002653875002579298,
            "name": "postgres",
            "status": "passed"
          },
          {
            "detail": "minio ready (200)",
            "latency_seconds": 0.011566958004550543,
            "name": "minio",
            "status": "passed"
          },
          {
            "detail": "ollama ready (200)",
            "latency_seconds": 0.012326875003054738,
            "name": "ollama",
            "status": "passed"
          },
          {
            "detail": "redis ready",
            "latency_seconds": 0.00046100000326987356,
            "name": "redis",
            "status": "passed"
          },
          {
            "detail": "app healthcheck disabled",
            "latency_seconds": 3.291999746579677e-06,
            "name": "app",
            "status": "warn"
          },
          {
            "detail": "worker assumed ready",
            "latency_seconds": 0.000366917003702838,
            "name": "worker",
            "status": "passed"
          }
        ]
      },
      "details": [
        "postgres:passed",
        "minio:passed",
        "ollama:passed",
        "redis:passed",
        "app:warn",
        "worker:passed"
      ],
      "duration_seconds": 0.027566499993554316,
      "metrics": {
        "services_checked": 6,
        "services_failed": 0,
        "services_passed": 5,
        "services_warn": 1
      },
      "status": "warn"
    },
    "code_quality": {
      "artifacts": {
        "analysis_errors": [],
        "complexity_violations": [
          {
            "complexity": 15,
            "lineno": 91,
            "name": "ingest",
            "path": "src/agent/cli.py",
            "rank": "C"
          },
          {
            "complexity": 16,
            "lineno": 378,
            "name": "_enrich_visual_elements_with_vlm",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 18,
            "lineno": 483,
            "name": "_collect_captions",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 22,
            "lineno": 584,
            "name": "parse",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "D"
          },
          {
            "complexity": 13,
            "lineno": 768,
            "name": "_extract_pages_with_blocks",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 13,
            "lineno": 955,
            "name": "_detect_block_type",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 1025,
            "name": "_extract_title_from_first_page",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 28,
            "lineno": 1174,
            "name": "_extract_figures",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "D"
          },
          {
            "complexity": 27,
            "lineno": 1338,
            "name": "_extract_tables",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "D"
          },
          {
            "complexity": 20,
            "lineno": 1529,
            "name": "_extract_equations",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 16,
            "lineno": 1704,
            "name": "_extract_references",
            "path": "src/agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 15,
            "lineno": 36,
            "name": "process_pdf",
            "path": "src/agent/ingestion/processor.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 898,
            "name": "_run_query_suite",
            "path": "src/agent/evaluator/harness.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 1030,
            "name": "_query_status",
            "path": "src/agent/evaluator/harness.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 1317,
            "name": "_build_scorecard",
            "path": "src/agent/evaluator/harness.py",
            "rank": "C"
          },
          {
            "complexity": 15,
            "lineno": 91,
            "name": "ingest",
            "path": "agent/cli.py",
            "rank": "C"
          },
          {
            "complexity": 16,
            "lineno": 378,
            "name": "_enrich_visual_elements_with_vlm",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 18,
            "lineno": 483,
            "name": "_collect_captions",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 22,
            "lineno": 584,
            "name": "parse",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "D"
          },
          {
            "complexity": 13,
            "lineno": 768,
            "name": "_extract_pages_with_blocks",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 13,
            "lineno": 955,
            "name": "_detect_block_type",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 1025,
            "name": "_extract_title_from_first_page",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 28,
            "lineno": 1174,
            "name": "_extract_figures",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "D"
          },
          {
            "complexity": 27,
            "lineno": 1338,
            "name": "_extract_tables",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "D"
          },
          {
            "complexity": 20,
            "lineno": 1529,
            "name": "_extract_equations",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 16,
            "lineno": 1704,
            "name": "_extract_references",
            "path": "agent/ingestion/pdf_parser.py",
            "rank": "C"
          },
          {
            "complexity": 15,
            "lineno": 36,
            "name": "process_pdf",
            "path": "agent/ingestion/processor.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 898,
            "name": "_run_query_suite",
            "path": "agent/evaluator/harness.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 1030,
            "name": "_query_status",
            "path": "agent/evaluator/harness.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 1317,
            "name": "_build_scorecard",
            "path": "agent/evaluator/harness.py",
            "rank": "C"
          }
        ],
        "ignore_patterns": [],
        "maintainability_violations": [
          {
            "maintainability_index": 42.49373061239926,
            "path": "src/agent/cli.py"
          },
          {
            "maintainability_index": 22.91487577741285,
            "path": "src/agent/embedding/chunker.py"
          },
          {
            "maintainability_index": 56.64848912582871,
            "path": "src/agent/embedding/embedder.py"
          },
          {
            "maintainability_index": 0.0,
            "path": "src/agent/ingestion/pdf_parser.py"
          },
          {
            "maintainability_index": 42.46573615742739,
            "path": "src/agent/ingestion/processor.py"
          },
          {
            "maintainability_index": 47.45708282175257,
            "path": "src/agent/retrieval/search.py"
          },
          {
            "maintainability_index": 0.0,
            "path": "src/agent/evaluator/harness.py"
          },
          {
            "maintainability_index": 42.49373061239926,
            "path": "agent/cli.py"
          },
          {
            "maintainability_index": 22.91487577741285,
            "path": "agent/embedding/chunker.py"
          },
          {
            "maintainability_index": 56.64848912582871,
            "path": "agent/embedding/embedder.py"
          },
          {
            "maintainability_index": 0.0,
            "path": "agent/ingestion/pdf_parser.py"
          },
          {
            "maintainability_index": 42.46573615742739,
            "path": "agent/ingestion/processor.py"
          },
          {
            "maintainability_index": 47.45708282175257,
            "path": "agent/retrieval/search.py"
          },
          {
            "maintainability_index": 0.0,
            "path": "agent/evaluator/harness.py"
          }
        ],
        "missing_paths": []
      },
      "details": [
        "max cyclomatic complexity 28.00 exceeds threshold 12.00",
        "maintainability index 0.00 below threshold 60.00"
      ],
      "duration_seconds": 0.2911499580004602,
      "metrics": {
        "blocks_analyzed": 440,
        "cyclomatic_complexity_avg": 4.63,
        "cyclomatic_complexity_max": 28,
        "cyclomatic_complexity_rank": "D",
        "files_analyzed": 34,
        "maintainability_index_min": 0.0,
        "threshold_average": 6.0,
        "threshold_function": 12.0,
        "threshold_maintainability": 60.0
      },
      "status": "failed"
    }
  },
  "timestamp": "2025-10-17T20:27:38.553600+00:00"
}