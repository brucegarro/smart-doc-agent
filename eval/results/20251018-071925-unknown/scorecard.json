{
  "env": {
    "answer_context_limit": 3,
    "answer_improvement_margin": 0.05,
    "answer_improvement_rate_threshold": 0.5,
    "answer_judge_model": "qwen2.5:1.5b-instruct-q4_K_M",
    "answer_max_tokens": 256,
    "answer_similarity_threshold": 0.55,
    "answer_temperature": 0.2,
    "code_quality_paths": [
      "src",
      "agent"
    ],
    "complexity_average_threshold": 5.0,
    "complexity_function_threshold": 10.0,
    "embedder_model": "BAAI/bge-small-en-v1.5",
    "git_sha": "unknown",
    "ingest_time_per_page_budget_sec": 5.0,
    "maintainability_threshold": 65.0,
    "retrieval_k": 5,
    "text_llm_model": "qwen2.5:7b-instruct-q4_K_M",
    "vlm_model": "qwen2-vl:7b-instruct-q4_K_M"
  },
  "gates": {
    "all": false,
    "answers": false,
    "boot": true,
    "code_quality": false,
    "extraction": true,
    "ingestion": false,
    "math": true,
    "perf": true,
    "queries": false
  },
  "metrics": {
    "overall_score": 0.3333333333333333,
    "runtime_seconds": 47.028536319732666
  },
  "run_id": "20251018-071925-unknown",
  "scenarios": {
    "answers": {
      "artifacts": {
        "evaluations": [
          {
            "baseline_answer": "I don't know. The provided context is insufficient to answer the question about the specific architecture introduced in the research paper.",
            "baseline_latency_ms": 4469.527585009928,
            "baseline_similarity": 0.25,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "The paper introduces the Transformer, a sequence transduction model built entirely on self-attention.",
            "id": "attn-arch",
            "improvement": null,
            "missing_context": true,
            "query": "What architecture does the paper introduce?"
          },
          {
            "baseline_answer": "I don't know. The number of layers in a Transformer encoder can vary depending on the specific architecture and research paper, and no context was provided to determine this.",
            "baseline_latency_ms": 3388.8152099971194,
            "baseline_similarity": 0.22429906542056074,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "The encoder uses N = 6 identical layers.",
            "id": "encoder-depth",
            "improvement": null,
            "missing_context": true,
            "query": "How many layers are stacked in the Transformer encoder?"
          },
          {
            "baseline_answer": "I don't know. The question about the specific uses of multi-head attention in the Transformer architecture was not addressed in the provided context, and I am relying on general knowledge which may be incomplete or incorrect without the exact paper reference.",
            "baseline_latency_ms": 4415.802043993608,
            "baseline_similarity": 0.3231197771587744,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It is used for encoder-decoder attention, encoder self-attention, and masked decoder self-attention.",
            "id": "multihead-uses",
            "improvement": null,
            "missing_context": true,
            "query": "List the three ways multi-head attention is used in the Transformer."
          },
          {
            "baseline_answer": "Batch normalization seeks to reduce internal covariate shift in neural networks.",
            "baseline_latency_ms": 1343.9590000052704,
            "baseline_similarity": 0.5562913907284768,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It reduces internal covariate shift by normalizing each layer's inputs.",
            "id": "bn-internal-shift",
            "improvement": null,
            "missing_context": true,
            "query": "What phenomenon does batch normalization seek to reduce?"
          },
          {
            "baseline_answer": "I don't know. The specific ImageNet test error rate for a residual net ensemble is not provided in the given context or my general knowledge.",
            "baseline_latency_ms": 2708.5331679991214,
            "baseline_similarity": 0.2524271844660194,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "The ensemble reaches a 3.57% error rate on the ImageNet test set.",
            "id": "resnet-imagenet-error",
            "improvement": null,
            "missing_context": true,
            "query": "What ImageNet test error does the residual net ensemble achieve?"
          },
          {
            "baseline_answer": "I don't know. The acronym BERT is not defined in the given context, and without additional information, I cannot provide an accurate definition.",
            "baseline_latency_ms": 2425.775709998561,
            "baseline_similarity": 0.32710280373831774,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It stands for Bidirectional Encoder Representations from Transformers.",
            "id": "bert-acronym",
            "improvement": null,
            "missing_context": true,
            "query": "What does the acronym BERT stand for?"
          },
          {
            "baseline_answer": "I don't know. The specific module added by DeepLabv3+ for improving segmentation boundaries is not provided in the given context, and without it, I cannot provide an accurate answer based on the information available.",
            "baseline_latency_ms": 4066.713959997287,
            "baseline_similarity": 0.2905405405405405,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It adds a decoder module that refines the segmentation along object boundaries.",
            "id": "deeplab-decoder",
            "improvement": null,
            "missing_context": true,
            "query": "What module does DeepLabv3+ add to improve segmentation boundaries?"
          },
          {
            "baseline_answer": "I don't know.",
            "baseline_latency_ms": 742.9727499984438,
            "baseline_similarity": 0.07547169811320754,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It evaluates how simulated cluster-dilute aggregates' projected 2-D measurements compare with their full 3-D morphology across fractal dimensions.",
            "id": "cluster-overview",
            "improvement": null,
            "missing_context": true,
            "query": "what is this paper about"
          },
          {
            "baseline_answer": "I don't know. The question asks for the content of a specific paper's abstract, but no context or details about the paper have been provided.",
            "baseline_latency_ms": 3676.774168998236,
            "baseline_similarity": 0.3416149068322981,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It introduces how fractal dimension governs the morphology of soot-like aggregates and frames the study's comparison of 2-D projections with 3-D properties across growth conditions.",
            "id": "cluster-abstract",
            "improvement": null,
            "missing_context": true,
            "query": "what is the abstract of this paper"
          },
          {
            "baseline_answer": "I don't know. The term \"cluster dliute regime\" does not correspond to any known scientific or technical terminology that I can confidently identify based on general knowledge.",
            "baseline_latency_ms": 2858.681458994397,
            "baseline_similarity": 0.20298507462686566,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It refers to aggregates that are far enough apart that their average separation greatly exceeds their individual size, so they behave as cluster-dilute systems.",
            "id": "cluster-regime-definition",
            "improvement": null,
            "missing_context": true,
            "query": "What is the cluster dliute regime?"
          },
          {
            "baseline_answer": "I don't know. The specific formula for representing morphological parameters of a 3-D aggregate is not provided in the given context, and without additional information, I cannot determine it from general knowledge alone.",
            "baseline_latency_ms": 3826.392125993152,
            "baseline_similarity": 0.2551928783382789,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "It uses N = k0 (R^3d_g / d_p)^{D_f}, linking monomer count, radius of gyration, monomer size, and fractal prefactor.",
            "id": "cluster-morphology-formula",
            "improvement": null,
            "missing_context": true,
            "query": "What formula represents the morphological parameters of a 3-d aggregate?"
          },
          {
            "baseline_answer": "I don't know. The specific value for the ratio of the 2D radius of gyration divided by the 3D radius of gyration was not provided in the context available to me.",
            "baseline_latency_ms": 4204.754335005418,
            "baseline_similarity": 0.2878787878787879,
            "context_snippets": [],
            "contextual_answer": null,
            "contextual_judge_reason": null,
            "contextual_judge_score": null,
            "contextual_latency_ms": null,
            "contextual_similarity": null,
            "gold_answer": "They report R2d_g \u2248 R3d_g with a ratio of about 0.93 \u00b1 0.3, consistent with earlier findings near 0.91.",
            "id": "cluster-radius-ratio",
            "improvement": null,
            "missing_context": true,
            "query": "What did they calculate the ratio of the 2D radius of gyration divided by the 3D radius of gyration to be in the experimental results?"
          }
        ]
      },
      "details": [
        "no contextual answers generated",
        "unable to compute improvement rate",
        "judge could not score contextual answers",
        "missing context for 12 queries"
      ],
      "duration_seconds": 41.24772314300935,
      "metrics": {
        "baseline_latency_ms_avg": 3177.3917929992117,
        "baseline_similarity_all": [
          0.25,
          0.22429906542056074,
          0.3231197771587744,
          0.5562913907284768,
          0.2524271844660194,
          0.32710280373831774,
          0.2905405405405405,
          0.07547169811320754,
          0.3416149068322981,
          0.20298507462686566,
          0.2551928783382789,
          0.2878787878787879
        ],
        "baseline_similarity_avg": 0.28224367565351066,
        "context_latency_ms_avg": null,
        "context_similarity_all": [],
        "context_similarity_avg": null,
        "contextual_judge_avg": null,
        "contextual_judge_pass_rate": null,
        "contextual_judge_scores": [],
        "evaluations": 12,
        "fixtures_evaluated": 12,
        "fixtures_total": 12,
        "generation_failures": 0,
        "improvements_all": [],
        "mean_improvement": null,
        "missing_context": 12,
        "negative_improvement_rate": null,
        "positive_improvement_rate": null
      },
      "status": "failed"
    },
    "boot": {
      "artifacts": {
        "checks": [
          {
            "detail": "postgres ready",
            "latency_seconds": 0.0038997090014163405,
            "name": "postgres",
            "status": "passed"
          },
          {
            "detail": "minio ready (200)",
            "latency_seconds": 0.01402816700283438,
            "name": "minio",
            "status": "passed"
          },
          {
            "detail": "ollama ready (200)",
            "latency_seconds": 0.012972875003470108,
            "name": "ollama",
            "status": "passed"
          },
          {
            "detail": "redis ready",
            "latency_seconds": 0.0006919160077814013,
            "name": "redis",
            "status": "passed"
          },
          {
            "detail": "app healthcheck disabled",
            "latency_seconds": 6.082991603761911e-06,
            "name": "app",
            "status": "warn"
          },
          {
            "detail": "worker assumed ready",
            "latency_seconds": 0.0006564159994013608,
            "name": "worker",
            "status": "passed"
          }
        ]
      },
      "details": [
        "postgres:passed",
        "minio:passed",
        "ollama:passed",
        "redis:passed",
        "app:warn",
        "worker:passed"
      ],
      "duration_seconds": 0.03249808299005963,
      "metrics": {
        "services_checked": 6,
        "services_failed": 0,
        "services_passed": 5,
        "services_warn": 1
      },
      "status": "warn"
    },
    "code_quality": {
      "artifacts": {
        "analysis_errors": [],
        "complexity_violations": [
          {
            "complexity": 14,
            "lineno": 210,
            "name": "_log_wait_results",
            "path": "src/agent/cli.py",
            "rank": "C"
          },
          {
            "complexity": 18,
            "lineno": 58,
            "name": "wait_for_jobs",
            "path": "src/agent/ingestion/batch_runner.py",
            "rank": "C"
          },
          {
            "complexity": 18,
            "lineno": 42,
            "name": "generate",
            "path": "src/agent/llm/text_client.py",
            "rank": "C"
          },
          {
            "complexity": 19,
            "lineno": 204,
            "name": "_evaluate_record",
            "path": "src/agent/evaluator/answer_runner.py",
            "rank": "C"
          },
          {
            "complexity": 13,
            "lineno": 437,
            "name": "_derive_status",
            "path": "src/agent/evaluator/answer_runner.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 410,
            "name": "_build_scorecard",
            "path": "src/agent/evaluator/harness.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 210,
            "name": "_log_wait_results",
            "path": "agent/cli.py",
            "rank": "C"
          },
          {
            "complexity": 18,
            "lineno": 58,
            "name": "wait_for_jobs",
            "path": "agent/ingestion/batch_runner.py",
            "rank": "C"
          },
          {
            "complexity": 18,
            "lineno": 42,
            "name": "generate",
            "path": "agent/llm/text_client.py",
            "rank": "C"
          },
          {
            "complexity": 19,
            "lineno": 204,
            "name": "_evaluate_record",
            "path": "agent/evaluator/answer_runner.py",
            "rank": "C"
          },
          {
            "complexity": 13,
            "lineno": 437,
            "name": "_derive_status",
            "path": "agent/evaluator/answer_runner.py",
            "rank": "C"
          },
          {
            "complexity": 14,
            "lineno": 410,
            "name": "_build_scorecard",
            "path": "agent/evaluator/harness.py",
            "rank": "C"
          }
        ],
        "ignore_patterns": [],
        "maintainability_violations": [
          {
            "maintainability_index": 26.70922275549244,
            "path": "src/agent/cli.py"
          },
          {
            "maintainability_index": 56.078890611071834,
            "path": "src/agent/config.py"
          },
          {
            "maintainability_index": 36.559662860009716,
            "path": "src/agent/embedding/chunker.py"
          },
          {
            "maintainability_index": 29.613994375969135,
            "path": "src/agent/embedding/text_chunks.py"
          },
          {
            "maintainability_index": 56.64848912582871,
            "path": "src/agent/embedding/embedder.py"
          },
          {
            "maintainability_index": 38.37057916418255,
            "path": "src/agent/ingestion/batch_runner.py"
          },
          {
            "maintainability_index": 0.0,
            "path": "src/agent/ingestion/pdf_parser.py"
          },
          {
            "maintainability_index": 24.926732741622263,
            "path": "src/agent/ingestion/processor.py"
          },
          {
            "maintainability_index": 48.88138227038773,
            "path": "src/agent/llm/text_client.py"
          },
          {
            "maintainability_index": 47.45708282175257,
            "path": "src/agent/retrieval/search.py"
          },
          {
            "maintainability_index": 37.24078448513978,
            "path": "src/agent/evaluator/ingestion_runner.py"
          },
          {
            "maintainability_index": 10.079774683693687,
            "path": "src/agent/evaluator/answer_runner.py"
          },
          {
            "maintainability_index": 14.515218266979264,
            "path": "src/agent/evaluator/harness.py"
          },
          {
            "maintainability_index": 45.176284873228674,
            "path": "src/agent/evaluator/db_manager.py"
          },
          {
            "maintainability_index": 15.173953755374702,
            "path": "src/agent/evaluator/query_runner.py"
          },
          {
            "maintainability_index": 33.978640516322386,
            "path": "src/agent/evaluator/quality_runner.py"
          },
          {
            "maintainability_index": 41.68446598399901,
            "path": "src/agent/evaluator/boot_runner.py"
          },
          {
            "maintainability_index": 26.70922275549244,
            "path": "agent/cli.py"
          },
          {
            "maintainability_index": 56.078890611071834,
            "path": "agent/config.py"
          },
          {
            "maintainability_index": 36.559662860009716,
            "path": "agent/embedding/chunker.py"
          },
          {
            "maintainability_index": 29.613994375969135,
            "path": "agent/embedding/text_chunks.py"
          },
          {
            "maintainability_index": 56.64848912582871,
            "path": "agent/embedding/embedder.py"
          },
          {
            "maintainability_index": 38.37057916418255,
            "path": "agent/ingestion/batch_runner.py"
          },
          {
            "maintainability_index": 0.0,
            "path": "agent/ingestion/pdf_parser.py"
          },
          {
            "maintainability_index": 24.926732741622263,
            "path": "agent/ingestion/processor.py"
          },
          {
            "maintainability_index": 48.88138227038773,
            "path": "agent/llm/text_client.py"
          },
          {
            "maintainability_index": 47.45708282175257,
            "path": "agent/retrieval/search.py"
          },
          {
            "maintainability_index": 37.24078448513978,
            "path": "agent/evaluator/ingestion_runner.py"
          },
          {
            "maintainability_index": 10.079774683693687,
            "path": "agent/evaluator/answer_runner.py"
          },
          {
            "maintainability_index": 14.515218266979264,
            "path": "agent/evaluator/harness.py"
          },
          {
            "maintainability_index": 45.176284873228674,
            "path": "agent/evaluator/db_manager.py"
          },
          {
            "maintainability_index": 15.173953755374702,
            "path": "agent/evaluator/query_runner.py"
          },
          {
            "maintainability_index": 33.978640516322386,
            "path": "agent/evaluator/quality_runner.py"
          },
          {
            "maintainability_index": 41.68446598399901,
            "path": "agent/evaluator/boot_runner.py"
          }
        ],
        "missing_paths": []
      },
      "details": [
        "average cyclomatic complexity 3.79 exceeds threshold 3.60",
        "average maintainability index 57.80 below threshold 62.00"
      ],
      "duration_seconds": 0.5207990000053542,
      "metrics": {
        "blocks_analyzed": 800,
        "cyclomatic_complexity_avg": 3.79,
        "cyclomatic_complexity_max": 19,
        "cyclomatic_complexity_rank": "C",
        "files_analyzed": 60,
        "maintainability_index_avg": 57.8,
        "maintainability_index_min": 0.0,
        "threshold_average": 3.6,
        "threshold_function": 12.0,
        "threshold_maintainability": 62.0
      },
      "status": "failed"
    },
    "db_setup": {
      "artifacts": {},
      "details": [
        "created:docdb_eval_20251018_071925_unknown"
      ],
      "duration_seconds": 0.133586625001044,
      "metrics": {
        "database": "docdb_eval_20251018_071925_unknown"
      },
      "status": "passed"
    },
    "extraction": {
      "artifacts": {
        "fixtures": [
          {
            "document_id": "3061ea24-ee4b-4cff-be26-846865e76b4a",
            "fields": {
              "abstract": "The dominant sequence transduction models are based on complex recurrent or convolutional neural networks in an encoder-decoder configuration. The best performing models also connect the encoder and decoder through an attention mechanism. We propose a new simple network architecture, the Transformer, based solely on attention mechanisms, dispensing with recurrence and convolutions entirely. Experiments on two machine translation tasks show these models to be superior in quality while being more parallelizable and requiring significantly less time to train. Our model achieves 28.4 BLEU on the WMT 2014 English-to-German translation task, improving over existing best results, including ensembles, by over 2 BLEU. On the WMT 2014 English-to-French translation task, our model establishes a new single-model state-of-the-art BLEU score of 41.8 after training for 3.5 days on eight GPUs. We show that the Transformer generalizes well to other tasks by applying it successfully to English constituency parsing both with large and limited training data.",
              "authors": [
                "Ashish Vaswani",
                "Noam Shazeer",
                "Niki Parmar",
                "Jakob Uszkoreit",
                "Llion Jones",
                "Aidan N. Gomez",
                "Lukasz Kaiser",
                "Illia Polosukhin"
              ],
              "title": "Attention Is All You Need"
            }
          },
          {
            "document_id": "doc_batch_normalization",
            "fields": {
              "abstract": "Training deep neural networks is complicated by the fact that the distribution of each layer's inputs changes during training, as the parameters of the previous layers change. This slows down the training by requiring lower learning rates and careful parameter initialization, and makes it notoriously hard to train models with saturating nonlinearities. We refer to this phenomenon as internal covariate shift, and address the problem by normalizing layer inputs. Our method draws its strength from making normalization a part of the model architecture and performing the normalization for each training mini-batch. Batch Normalization allows us to use much higher learning rates and be less careful about initialization. It also acts as a regularizer, in some cases eliminating the need for Dropout. Applied to a state-of-the-art image classification model, Batch Normalization achieves the same accuracy with 14 times fewer training steps, and beats the original model by a significant margin.",
              "authors": [
                "Sergey Ioffe",
                "Christian Szegedy"
              ],
              "title": "Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift"
            }
          },
          {
            "document_id": "doc_deep_residual_learning",
            "fields": {
              "abstract": "Deeper neural networks are more difficult to train. We present a residual learning framework to ease the training of networks that are substantially deeper than those used previously. We explicitly reformulate the layers as learning residual functions with reference to the layer inputs, instead of learning unreferenced functions. We provide comprehensive empirical evidence showing that these residual networks are easier to optimize, and can gain accuracy from considerably increased depth. On the ImageNet dataset we evaluate residual nets with a depth of up to 152 layers, 8x deeper than VGG nets but still having lower complexity. An ensemble of these residual nets achieves 3.57% error on the ImageNet test set. This result won the 1st place on the ILSVRC 2015 classification task. We also present analysis on CIFAR-10 with 100 and 1000 layers.",
              "authors": [
                "Kaiming He",
                "Xiangyu Zhang",
                "Shaoqing Ren",
                "Jian Sun"
              ],
              "title": "Deep Residual Learning for Image Recognition"
            }
          }
        ]
      },
      "details": [
        "extraction scoring not implemented"
      ],
      "duration_seconds": 0.0,
      "metrics": {
        "fixtures_total": 6
      },
      "status": "warn"
    },
    "ingestion": {
      "artifacts": {
        "documents": []
      },
      "details": [
        "duplicate:attention-is-all-you-need.pdf",
        "duplicate:batch-normalization.pdf",
        "duplicate:bert.pdf",
        "duplicate:cluster-dilute-aggregates.pdf",
        "duplicate:deep-residual-learning.pdf",
        "duplicate:deeplabv3-plus.pdf"
      ],
      "duration_seconds": 0.0,
      "metrics": {
        "avg_time_per_doc_sec": null,
        "document_ids": [],
        "documents_attempted": 6,
        "documents_failed": 0,
        "documents_ingested": 0,
        "durations_sec": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "ingest_time_per_page_sec": null,
        "total_pages": 0,
        "total_time_sec": 0.0
      },
      "status": "skipped"
    },
    "math": {
      "artifacts": {
        "fixtures": [
          {
            "document_id": "3061ea24-ee4b-4cff-be26-846865e76b4a",
            "id": "scaled-attention",
            "latex_gold": "\\mathrm{Attention}(Q,K,V)=\\mathrm{softmax}\\left(\\frac{QK^T}{\\sqrt{d_k}}\\right)V",
            "notes": "Scaled dot-product attention from Section 3.2."
          }
        ]
      },
      "details": [
        "math scoring not implemented"
      ],
      "duration_seconds": 0.0,
      "metrics": {
        "fixtures_total": 1
      },
      "status": "warn"
    },
    "perf": {
      "artifacts": {},
      "details": [],
      "duration_seconds": 0.0,
      "metrics": {
        "ingestion_avg_time_sec": 0.0,
        "ingestion_total_time_sec": 0.0,
        "query_p50_ms": null,
        "query_p95_ms": null
      },
      "status": "passed"
    },
    "queries": {
      "artifacts": {},
      "details": [
        "no documents"
      ],
      "duration_seconds": 0.0,
      "metrics": {},
      "status": "skipped"
    }
  },
  "timestamp": "2025-10-18T07:20:12.159032+00:00"
}